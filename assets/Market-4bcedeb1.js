import{j as d,r as h,c as F}from"./index-e0579394.js";import{_ as I,B as j,D as N,a as p,w as O,E,t as U,n as _,x as z,y as R,k as L,M as W,l as q,U as D,V as P,S as B}from"./utils-3eeedbbd.js";const $=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],J=["component","slots","slotProps"],H=["component"];function V(e,o){const{className:a,elementType:l,ownerState:t,externalForwardedProps:r,getSlotOwnerState:n,internalForwardedProps:c}=o,g=I(o,$),{component:i,slots:s={[e]:void 0},slotProps:u={[e]:void 0}}=r,w=I(r,J),v=s[e]||l,y=j(u[e],t),b=N(p({className:a},g,{externalForwardedProps:e==="root"?w:void 0,externalSlotProps:y})),{props:{component:f},internalRef:T}=b,x=I(b.props,H),k=O(T,y==null?void 0:y.ref,o.ref),m=n?n(x):{},S=p({},t,m),A=e==="root"?f||i:f,C=E(v,p({},e==="root"&&!i&&!s[e]&&c,e!=="root"&&!s[e]&&c,x,A&&{as:A},{ref:k}),S);return Object.keys(m).forEach(M=>{delete C[M]}),[v,C]}const G=U(d("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function K(e){return _("MuiAvatar",e)}z("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Q=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],X=W(),Y=e=>{const{classes:o,variant:a,colorDefault:l}=e;return q({root:["root",a,l&&"colorDefault"],img:["img"],fallback:["fallback"]},K,o)},Z=R("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,o[a.variant],a.colorDefault&&o.colorDefault]}})(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:p({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:p({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]})),ee=R("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,o)=>o.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),te=R(G,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,o)=>o.fallback})({width:"75%",height:"75%"});function oe({crossOrigin:e,referrerPolicy:o,src:a,srcSet:l}){const[t,r]=h.useState(!1);return h.useEffect(()=>{if(!a&&!l)return;r(!1);let n=!0;const c=new Image;return c.onload=()=>{n&&r("loaded")},c.onerror=()=>{n&&r("error")},c.crossOrigin=e,c.referrerPolicy=o,c.src=a,l&&(c.srcset=l),()=>{n=!1}},[e,o,a,l]),t}const se=h.forwardRef(function(o,a){const l=X({props:o,name:"MuiAvatar"}),{alt:t,children:r,className:n,component:c="div",slots:g={},slotProps:i={},imgProps:s,sizes:u,src:w,srcSet:v,variant:y="circular"}=l,b=I(l,Q);let f=null;const T=oe(p({},s,{src:w,srcSet:v})),x=w||v,k=x&&T!=="error",m=p({},l,{colorDefault:!k,component:c,variant:y}),S=Y(m),[A,C]=V("img",{className:S.img,elementType:ee,externalForwardedProps:{slots:g,slotProps:{img:p({},s,i.img)}},additionalProps:{alt:t,src:w,srcSet:v,sizes:u},ownerState:m});return k?f=d(A,p({},C)):r||r===0?f=r:x&&t?f=t[0]:f=d(te,{ownerState:m,className:S.fallback}),d(Z,p({as:c,ownerState:m,className:L(S.root,n),ref:a},b,{children:f}))}),re=se;function ae(){const[e,o]=h.useState(new Map),a=async()=>{const t=await(await fetch("https://www.binance.com/bapi/composite/v1/public/marketing/symbol/list")).json(),r=new Map;t.data.forEach(n=>{r.set(n.symbol,n.logo)}),o(r)};return h.useEffect(()=>{a()},[]),e}function ce(){const[e,o]=h.useState([]),a=ae(),l=t=>{const r=t.replace("1000","").replace("DOM","");return a.get(r)};return h.useEffect(()=>{const t=new WebSocket("wss://fstream.binance.com/ws/!ticker@arr");return t.onopen=()=>{console.log("socket open")},t.onmessage=r=>{try{const n=JSON.parse(r.data);n.ping?t.send(JSON.stringify({pong:Date.now()})):n.length&&o(c=>{const g=[],i=c.reduce((s,u)=>(s[u.s]=u,s),{});return n.filter(s=>/USDT$/.test(s.s)).forEach(s=>{i[s.s]?(Object.assign(i[s.s],s),g.push(i[s.s]),delete i[s.s]):g.push(s)}),[...g,...Object.values(i)].sort((s,u)=>+u.P-+s.P)})}catch{}},()=>{t.close()}},[]),d(D,{sx:{display:"flex",gap:"24px",flexWrap:"wrap",justifyContent:"space-evenly"},children:e.map(t=>F(D,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",width:220,border:"dashed 1px #ccc",padding:"8px 0"},children:[F(D,{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[d(re,{src:l(t.s),sx:{width:32,height:32},alt:t.s.charAt(0),children:t.s.charAt(0)}),d(P,{children:t.s.replace("USDT","")})]}),d(P,{fontSize:24,children:+t.c}),F(P,{fontSize:18,fontWeight:"bold",color:+t.p>0?"#82ca9d":"#E04A59",children:[+t.p,"(",+t.P,"%)"]}),F(P,{children:[+t.l," - ",+t.w," - ",+t.h]}),d(P,{color:"gray",children:B(+t.q)})]},t.s))})}export{ce as default};
